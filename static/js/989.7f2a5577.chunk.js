"use strict";(self.webpackChunkpfefront=self.webpackChunkpfefront||[]).push([[989],{68989:(e,t,n)=>{n.r(t),n.d(t,{default:()=>U});var a=n(65043),o=n(19252),s=n(7353),l=n(94496),r=n(42518),c=n(68903),i=n(12110),d=n(26494),p=n(43845),A=n(18483),m=n(17392),u=n(90035),h=n(26600),x=n(35316),g=n(80045),j=n(89379),y=n(58387),f=n(98610),C=n(61475),v=n(34535),w=n(98206),b=n(92532),D=n(72372);function T(e){return(0,D.Ay)("MuiDialogContentText",e)}(0,b.A)("MuiDialogContentText",["root"]);var k=n(70579);const M=["children","className"],I=(0,v.Ay)(l.A,{shouldForwardProp:e=>(0,C.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),S=a.forwardRef((function(e,t){const n=(0,w.b)({props:e,name:"MuiDialogContentText"}),{children:a,className:o}=n,s=(0,g.A)(n,M),l=(e=>{const{classes:t}=e,n=(0,f.A)({root:["root"]},T,t);return(0,j.A)((0,j.A)({},t),n)})(s);return(0,k.jsx)(I,(0,j.A)((0,j.A)({component:"p",variant:"body1",color:"textSecondary",ref:t,ownerState:s,className:(0,y.A)(l.root,o)},n),{},{classes:l}))}));var F=n(29347),N=n(58602),R=n(16851),B=n(28400),z=n(51387),E=n(83560),_=n(70141),L=n(73216),P=n(23849);const U=()=>{const[e,t]=(0,a.useState)([]),[n,g]=(0,a.useState)(!1),[j,y]=(0,a.useState)(null),f=(0,L.Zp)();(0,a.useEffect)((()=>{C()}),[]);const C=async()=>{try{const e=await P.A.getAll();t(e.data)}catch(e){console.error("Error loading templates:",e)}},v=e=>{switch(e){case"kanban":default:return(0,k.jsx)(N.A,{});case"scrum":return(0,k.jsx)(R.A,{});case"project":return(0,k.jsx)(B.A,{})}},w=e=>{switch(e){case"kanban":return"Kanban Board";case"scrum":return"Scrum Board";case"project":return"Project Management";default:return"Template"}};return(0,k.jsxs)(o.A,{maxWidth:"lg",sx:{mt:4,mb:4},children:[(0,k.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,k.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:"Templates"}),(0,k.jsx)(r.A,{variant:"contained",color:"primary",startIcon:(0,k.jsx)(_.A,{}),onClick:()=>{f("/templates/add")},children:"Add Template"})]}),(0,k.jsx)(c.Ay,{container:!0,spacing:3,children:e.map((e=>(0,k.jsx)(c.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,k.jsx)(i.A,{children:(0,k.jsxs)(d.A,{children:[(0,k.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[v(e.type),(0,k.jsx)(l.A,{variant:"h6",sx:{ml:1},children:e.name})]}),(0,k.jsx)(p.A,{label:w(e.type),size:"small",sx:{mb:2}}),(0,k.jsx)(l.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:e.description}),(0,k.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,k.jsxs)(l.A,{variant:"caption",color:"text.secondary",children:["Created: ",new Date(e.createdAt).toLocaleDateString()]}),(0,k.jsxs)(s.A,{children:[(0,k.jsx)(A.A,{title:"Edit",children:(0,k.jsx)(m.A,{size:"small",onClick:()=>{return t=e._id,void f("/templates/edit/".concat(t));var t},children:(0,k.jsx)(E.A,{})})}),(0,k.jsx)(A.A,{title:"Delete",children:(0,k.jsx)(m.A,{size:"small",onClick:()=>{return t=e._id,y(t),void g(!0);var t},children:(0,k.jsx)(z.A,{})})})]})]})]})})},e._id)))}),(0,k.jsxs)(u.A,{open:n,onClose:()=>g(!1),children:[(0,k.jsx)(h.A,{children:"Delete Template"}),(0,k.jsx)(x.A,{children:(0,k.jsx)(S,{children:"Are you sure you want to delete this template? This action cannot be undone."})}),(0,k.jsxs)(F.A,{children:[(0,k.jsx)(r.A,{onClick:()=>g(!1),children:"Cancel"}),(0,k.jsx)(r.A,{onClick:async()=>{try{await P.A.delete(j),g(!1),C()}catch(e){console.error("Error deleting template:",e)}},color:"error",autoFocus:!0,children:"Delete"})]})]})]})}},23849:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(50214);const o={getAll:()=>(console.log("Fetching all templates..."),a.A.get("/template/all")),getTemplate:e=>(console.log("Fetching template with ID:",e),a.A.get("/template/".concat(e))),getTemplatesByType:e=>(console.log("Fetching templates by type:",e),a.A.get("/template/type/".concat(e))),getDefaultTemplates:()=>(console.log("Fetching default templates..."),a.A.get("/template/default")),create:e=>(console.log("Creating template with data:",e),a.A.post("/template/create",e)),update:(e,t)=>(console.log("Updating template with ID:",e),console.log("Update data:",t),a.A.put("/template/update/".concat(e),t)),delete:e=>(console.log("Deleting template with ID:",e),a.A.delete("/template/delete/".concat(e))),clone:e=>(console.log("Cloning template with ID:",e),a.A.post("/template/".concat(e,"/clone")))}},28400:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(66734),o=n(70579);const s=(0,a.A)((0,o.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"}),"Folder")},26494:(e,t,n)=>{n.d(t,{A:()=>x});var a=n(89379),o=n(80045),s=n(65043),l=n(58387),r=n(98610),c=n(34535),i=n(98206),d=n(92532),p=n(72372);function A(e){return(0,p.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var m=n(70579);const u=["className","component"],h=(0,c.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),x=s.forwardRef((function(e,t){const n=(0,i.b)({props:e,name:"MuiCardContent"}),{className:s,component:c="div"}=n,d=(0,o.A)(n,u),p=(0,a.A)((0,a.A)({},n),{},{component:c}),x=(e=>{const{classes:t}=e;return(0,r.A)({root:["root"]},A,t)})(p);return(0,m.jsx)(h,(0,a.A)({as:c,className:(0,l.A)(x.root,s),ownerState:p,ref:t},d))}))}}]);
//# sourceMappingURL=989.7f2a5577.chunk.js.map
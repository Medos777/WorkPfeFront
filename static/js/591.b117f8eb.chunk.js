"use strict";(self.webpackChunkpfefront=self.webpackChunkpfefront||[]).push([[591],{27591:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var a=n(89379),r=n(65043),s=n(90035),i=n(4219),o=n(35316),c=n(7353),l=n(94496),d=n(15795),m=n(53193),u=n(79190),p=n(69285),g=n(32143),h=n(29347),j=n(42518),f=n(81637),y=(n(50214),n(99012));const A=async function(e){try{const t=await fetch("https://api.deepseek.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat("sk-5f84c0819f044273a0ef89949fcae1d7")},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:"You are a project management AI assistant specialized in project planning and estimation. Respond in valid JSON format only. No additional text or explanations outside the JSON structure."},{role:"user",content:e}],temperature:.3,max_tokens:1e3})});return(await t.json()).choices[0].message.content}catch(t){throw console.error("Error generating AI response:",t),t}},b=e=>{const t={high:["complex","innovative","large-scale","enterprise","integration","AI","machine learning","blockchain"],medium:["database","api","authentication","dashboard","reporting","mobile"],low:["simple","basic","landing page","static","form"]};let n=1;const a=e.toLowerCase();t.high.forEach((e=>{a.includes(e)&&(n+=.5)})),t.medium.forEach((e=>{a.includes(e)&&(n+=.3)})),t.low.forEach((e=>{a.includes(e)&&(n+=.1)}));const r=3,s=1e4,i=3;return{duration:Math.ceil(r*n),budget:Math.ceil(s*n*1e3)/1e3,teamSize:Math.ceil(i*n)}},k=async e=>{try{const t=(await y.A.getAll()).data,n=b(e.description),a='Generate a detailed project structure with the following requirements and constraints:\n\nProject Details:\n- Name: "'.concat(e.name,'"\n- Description: "').concat(e.description,'"\n- Type: "').concat(e.type,'"\n- Industry: "').concat(e.industry,'"\n- Calculated Duration: ').concat(n.duration," months\n- Estimated Budget: $").concat(n.budget,"\n- Recommended Team Size: ").concat(n.teamSize," members\n\nAvailable Teams:\n").concat(JSON.stringify(t.map((e=>({id:e._id,name:e.teamName,skills:e.skills||[]})))),'\n\nGenerate a project structure in the following JSON format:\n{\n    "name": "').concat(e.name,'",\n    "description": "Detailed project description",\n    "startDate": "YYYY-MM-DD",\n    "endDate": "YYYY-MM-DD",\n    "budget": "Estimated budget in numbers",\n    "costEstimate": "Estimated cost in numbers",\n    "keyFeatures": ["feature1", "feature2", "feature3"],\n    "teamStructure": ["role1", "role2", "role3"],\n    "recommendedTeams": [\n        {\n            "teamId": "id from available teams",\n            "teamName": "name from available teams",\n            "reason": "Why this team is recommended"\n        }\n    ],\n    "initialSprints": [\n        {\n            "name": "Sprint name",\n            "duration": "2 weeks",\n            "goals": ["goal1", "goal2"]\n        }\n    ],\n    "keyMilestones": [\n        {\n            "name": "Milestone name",\n            "date": "YYYY-MM-DD",\n            "deliverables": ["deliverable1", "deliverable2"]\n        }\n    ],\n    "riskAssessment": [\n        {\n            "risk": "Potential risk",\n            "impact": "High/Medium/Low",\n            "mitigation": "Mitigation strategy"\n        }\n    ]\n}\n\nEnsure:\n1. Dates are in YYYY-MM-DD format\n2. Budget and cost estimates are realistic based on scope\n3. Team recommendations match project needs\n4. Features and milestones align with description\n5. Sprints cover the entire project duration\n6. Risk assessment is comprehensive'),r=(await A(a,{type:"project_creation"})).match(/\{[\s\S]*\}/);if(!r)throw new Error("No JSON object found in response");const s=r[0].replace(/[\u201C\u201D]/g,'"').replace(/[\n\r\t]/g," ").replace(/,\s*}/g,"}").replace(/,\s*]/g,"]").replace(/([{,])\s*([a-zA-Z0-9_]+)\s*:/g,'$1"$2":').replace(/:\s*'([^']*)'/g,':"$1"').replace(/\\/g,""),i=JSON.parse(s),o=["name","description","startDate","endDate","budget","costEstimate","keyFeatures","teamStructure","recommendedTeams","initialSprints","keyMilestones","riskAssessment"];for(const e of o)if(!i[e])throw new Error("Missing required field: ".concat(e));const c=/^\d{4}-\d{2}-\d{2}$/;if(!c.test(i.startDate)||!c.test(i.endDate))throw new Error("Invalid date format");return i}catch(t){console.error("Error parsing AI response:",t);const n=b(e.description),a=new Date,r=new Date;return r.setMonth(r.getMonth()+n.duration),{name:e.name,description:e.description,startDate:a.toISOString().split("T")[0],endDate:r.toISOString().split("T")[0],budget:n.budget.toString(),costEstimate:(.8*n.budget).toString(),keyFeatures:["Feature 1","Feature 2","Feature 3"],teamStructure:["Project Manager","Developer","Designer"],recommendedTeams:[],initialSprints:[{name:"Sprint 1: Planning",duration:"2 weeks",goals:["Project Setup","Requirements Analysis"]}],keyMilestones:[{name:"Project Kickoff",date:a.toISOString().split("T")[0],deliverables:["Project Charter","Initial Timeline"]}],riskAssessment:[{risk:"Timeline Risk",impact:"Medium",mitigation:"Regular progress monitoring"}]}}};var S=n(70579);const D=e=>{let{open:t,onClose:n,onGenerate:y}=e;const[A,b]=(0,r.useState)(!1),[D,w]=(0,r.useState)(""),[v,x]=(0,r.useState)({name:"",description:"",type:"software",industry:"technology"}),M=e=>{const{name:t,value:n}=e.target;x((e=>(0,a.A)((0,a.A)({},e),{},{[t]:n})))};return(0,S.jsxs)(s.A,{open:t,onClose:n,maxWidth:"md",fullWidth:!0,children:[(0,S.jsx)(i.A,{children:"Generate Project with AI"}),(0,S.jsx)(o.A,{children:(0,S.jsxs)(c.A,{sx:{mt:2},children:[(0,S.jsx)(l.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Describe your project and let AI help you create a detailed project structure."}),(0,S.jsx)(d.A,{fullWidth:!0,margin:"normal",name:"name",label:"Project Name",value:v.name,onChange:M,required:!0}),(0,S.jsx)(d.A,{fullWidth:!0,margin:"normal",name:"description",label:"Project Description",multiline:!0,rows:4,value:v.description,onChange:M,required:!0,helperText:"Describe your project in detail, including goals, requirements, and any specific technologies or methodologies."}),(0,S.jsxs)(m.A,{fullWidth:!0,margin:"normal",children:[(0,S.jsx)(u.A,{children:"Project Type"}),(0,S.jsx)(p.A,{name:"type",value:v.type,onChange:M,label:"Project Type",children:["software","hardware","consulting","research","marketing","design"].map((e=>(0,S.jsx)(g.A,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)))})]}),(0,S.jsxs)(m.A,{fullWidth:!0,margin:"normal",children:[(0,S.jsx)(u.A,{children:"Industry"}),(0,S.jsx)(p.A,{name:"industry",value:v.industry,onChange:M,label:"Industry",children:["technology","healthcare","finance","education","retail","manufacturing"].map((e=>(0,S.jsx)(g.A,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)))})]}),D&&(0,S.jsx)(l.A,{color:"error",variant:"body2",sx:{mt:2},children:D})]})}),(0,S.jsxs)(h.A,{children:[(0,S.jsx)(j.A,{onClick:n,disabled:A,children:"Cancel"}),(0,S.jsx)(j.A,{onClick:async()=>{if(v.description.trim()){b(!0),w("");try{const e=await k(v),t={projectName:e.name,projectDescription:e.description,startDate:e.startDate,endDate:e.endDate,budget:e.budget,costEstimate:e.costEstimate,teams:e.recommendedTeams.map((e=>e.teamId)),aiMetadata:{keyFeatures:e.keyFeatures,teamStructure:e.teamStructure,recommendedTeams:e.recommendedTeams,initialSprints:e.initialSprints,keyMilestones:e.keyMilestones,riskAssessment:e.riskAssessment}};y(t),n()}catch(D){console.error("Error generating project:",D),w("Failed to generate project structure. Please try again.")}finally{b(!1)}}else w("Please provide a project description")},variant:"contained",disabled:A||!v.description.trim(),startIcon:A&&(0,S.jsx)(f.A,{size:20}),children:A?"Generating...":"Generate"})]})]})}},99012:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(50214);const r={getAll:()=>a.A.get("/teams"),getTeam:e=>a.A.get("/teams/".concat(e)),createTeam:e=>a.A.post("/teams",e),updateTeam:(e,t)=>a.A.put("/teams/".concat(e),t),deleteTeam:e=>a.A.delete("/teams/".concat(e)),addMember:(e,t)=>a.A.post("/teams/".concat(e,"/members"),{userId:t}),removeMember:(e,t)=>a.A.delete("/teams/".concat(e,"/members"),{data:{userId:t}}),assignToProject:(e,t)=>a.A.post("/teams/".concat(e,"/projects"),{projectId:t})}}}]);
//# sourceMappingURL=591.b117f8eb.chunk.js.map
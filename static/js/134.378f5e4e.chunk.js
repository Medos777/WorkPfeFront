"use strict";(self.webpackChunkpfefront=self.webpackChunkpfefront||[]).push([[134],{83134:(e,t,o)=>{o.r(t),o.d(t,{default:()=>j});var a=o(89379),i=o(65043),n=o(19252),s=o(94496),r=o(7353),l=o(68903),c=o(12110),d=o(2828),p=o(26494),u=o(67784),m=o(42518),h=o(40794),g=o(14194),A=o(58602),f=o(16851),v=o(28400),x=o(73216),y=o(23849),C=o(70579);const j=()=>{const[e,t]=(0,i.useState)(null),[o,j]=(0,i.useState)(""),[b,w]=(0,i.useState)(""),[k,D]=(0,i.useState)({open:!1,message:"",severity:"success"}),I=(0,x.Zp)(),M=[{id:"kanban",name:"Kanban",description:"Visualize work and maximize efficiency with a kanban board",Icon:A.A},{id:"scrum",name:"Scrum",description:"Plan, prioritize, and schedule sprints using scrum framework",Icon:f.A},{id:"project",name:"Project Management",description:"Manage and track agile work plus integrate developer tools like GitHub",Icon:v.A}];return(0,C.jsxs)(n.A,{maxWidth:"lg",sx:{mt:4,mb:4},children:[(0,C.jsx)(s.A,{variant:"h4",gutterBottom:!0,children:"Choose a template"}),(0,C.jsx)(s.A,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:"Start with a template that fits your team's needs. You can customize it later."}),(0,C.jsx)(r.A,{sx:{mt:4},children:(0,C.jsx)(l.Ay,{container:!0,spacing:3,children:M.map((o=>{const a=o.Icon;return(0,C.jsx)(l.Ay,{item:!0,xs:12,md:4,children:(0,C.jsx)(c.A,{sx:{height:"100%",border:(null===e||void 0===e?void 0:e.id)===o.id?2:1,borderColor:(null===e||void 0===e?void 0:e.id)===o.id?"primary.main":"grey.300"},children:(0,C.jsx)(d.A,{onClick:()=>(e=>{t(e),w(e.description)})(o),sx:{height:"100%",p:2},children:(0,C.jsx)(p.A,{children:(0,C.jsxs)(r.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[(0,C.jsx)(a,{sx:{fontSize:40}}),(0,C.jsx)(s.A,{variant:"h6",component:"div",children:o.name}),(0,C.jsx)(s.A,{variant:"body2",color:"text.secondary",align:"center",children:o.description})]})})})})},o.id)}))})}),e&&(0,C.jsxs)(r.A,{sx:{mt:4},children:[(0,C.jsx)(s.A,{variant:"h6",gutterBottom:!0,children:"Template Details"}),(0,C.jsxs)(l.Ay,{container:!0,spacing:3,children:[(0,C.jsx)(l.Ay,{item:!0,xs:12,children:(0,C.jsx)(u.A,{required:!0,fullWidth:!0,label:"Template Name",value:o,onChange:e=>j(e.target.value)})}),(0,C.jsx)(l.Ay,{item:!0,xs:12,children:(0,C.jsx)(u.A,{fullWidth:!0,multiline:!0,rows:4,label:"Description",value:b,onChange:e=>w(e.target.value)})})]})]}),(0,C.jsxs)(r.A,{sx:{mt:4,display:"flex",justifyContent:"flex-end",gap:2},children:[(0,C.jsx)(m.A,{variant:"outlined",onClick:()=>I("/templates"),children:"Cancel"}),(0,C.jsx)(m.A,{variant:"contained",disabled:!e||!o.trim(),onClick:async()=>{if(e&&o.trim())try{const t=localStorage.getItem("userId");if(!t)return void D({open:!0,message:"User not authenticated. Please login again.",severity:"error"});const a={name:o,description:b||e.description,type:e.id,icon:"kanban"===e.id?"kanban":"scrum"===e.id?"speed":"project",features:[],defaultColumns:[{name:"To Do",order:1,wipLimit:0},{name:"In Progress",order:2,wipLimit:3},{name:"Done",order:3,wipLimit:0}],settings:{sprintDuration:2},createdBy:t};await y.A.create(a),D({open:!0,message:"Template created successfully",severity:"success"}),setTimeout((()=>{I("/templates")}),1500)}catch(i){var t,a;console.error("Error creating template:",i),D({open:!0,message:(null===(t=i.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Error creating template. Please try again.",severity:"error"})}else D({open:!0,message:"Please fill in all required fields",severity:"error"})},children:"Create Template"})]}),(0,C.jsx)(h.A,{open:k.open,autoHideDuration:6e3,onClose:()=>D((0,a.A)((0,a.A)({},k),{},{open:!1})),children:(0,C.jsx)(g.A,{onClose:()=>D((0,a.A)((0,a.A)({},k),{},{open:!1})),severity:k.severity,sx:{width:"100%"},children:k.message})})]})}},23849:(e,t,o)=>{o.d(t,{A:()=>i});var a=o(50214);const i={getAll:()=>(console.log("Fetching all templates..."),a.A.get("/template/all")),getTemplate:e=>(console.log("Fetching template with ID:",e),a.A.get("/template/".concat(e))),getTemplatesByType:e=>(console.log("Fetching templates by type:",e),a.A.get("/template/type/".concat(e))),getDefaultTemplates:()=>(console.log("Fetching default templates..."),a.A.get("/template/default")),create:e=>(console.log("Creating template with data:",e),a.A.post("/template/create",e)),update:(e,t)=>(console.log("Updating template with ID:",e),console.log("Update data:",t),a.A.put("/template/update/".concat(e),t)),delete:e=>(console.log("Deleting template with ID:",e),a.A.delete("/template/delete/".concat(e))),clone:e=>(console.log("Cloning template with ID:",e),a.A.post("/template/".concat(e,"/clone")))}},28400:(e,t,o)=>{o.d(t,{A:()=>n});var a=o(66734),i=o(70579);const n=(0,a.A)((0,i.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"}),"Folder")},2828:(e,t,o)=>{o.d(t,{A:()=>y});var a=o(89379),i=o(80045),n=o(65043),s=o(58387),r=o(98610),l=o(34535),c=o(56262),d=o(98206),p=o(92532),u=o(72372);function m(e){return(0,u.Ay)("MuiCardActionArea",e)}const h=(0,p.A)("MuiCardActionArea",["root","focusVisible","focusHighlight"]);var g=o(83424),A=o(70579);const f=["children","className","focusVisibleClassName"],v=(0,l.Ay)(g.A,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})((0,c.A)((e=>{let{theme:t}=e;return{display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",["&:hover .".concat(h.focusHighlight)]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},["&.".concat(h.focusVisible," .").concat(h.focusHighlight)]:{opacity:(t.vars||t).palette.action.focusOpacity}}}))),x=(0,l.Ay)("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})((0,c.A)((e=>{let{theme:t}=e;return{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}}))),y=n.forwardRef((function(e,t){const o=(0,d.b)({props:e,name:"MuiCardActionArea"}),{children:n,className:l,focusVisibleClassName:c}=o,p=(0,i.A)(o,f),u=o,h=(e=>{const{classes:t}=e;return(0,r.A)({root:["root"],focusHighlight:["focusHighlight"]},m,t)})(u);return(0,A.jsxs)(v,(0,a.A)((0,a.A)({className:(0,s.A)(h.root,l),focusVisibleClassName:(0,s.A)(c,h.focusVisible),ref:t,ownerState:u},p),{},{children:[n,(0,A.jsx)(x,{className:h.focusHighlight,ownerState:u})]}))}))},26494:(e,t,o)=>{o.d(t,{A:()=>A});var a=o(89379),i=o(80045),n=o(65043),s=o(58387),r=o(98610),l=o(34535),c=o(98206),d=o(92532),p=o(72372);function u(e){return(0,p.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var m=o(70579);const h=["className","component"],g=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),A=n.forwardRef((function(e,t){const o=(0,c.b)({props:e,name:"MuiCardContent"}),{className:n,component:l="div"}=o,d=(0,i.A)(o,h),p=(0,a.A)((0,a.A)({},o),{},{component:l}),A=(e=>{const{classes:t}=e;return(0,r.A)({root:["root"]},u,t)})(p);return(0,m.jsx)(g,(0,a.A)({as:l,className:(0,s.A)(A.root,n),ownerState:p,ref:t},d))}))}}]);
//# sourceMappingURL=134.378f5e4e.chunk.js.map
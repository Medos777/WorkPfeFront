"use strict";(self.webpackChunkpfefront=self.webpackChunkpfefront||[]).push([[536],{4536:(e,t,r)=>{r.r(t),r.d(t,{default:()=>E});var s=r(89379),n=r(65043),a=r(7353),l=r(94496),o=r(68903),c=r(61596),i=r(53193),d=r(79190),h=r(69285),p=r(32143),x=r(15795),u=r(42518),A=r(12110),j=r(26494),y=r(18483),v=r(17392),g=r(40794),m=r(14194),f=r(58403),R=r(41209),b=r(51387),w=r(79722),S=r(72450),C=r(11238),k=r(50214);const P=class{static async generateProjectReport(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pdf";try{const r=await k.A.get("/projects/".concat(e,"/export/").concat(t),{responseType:"blob"}),s="project-report-".concat(e,".").concat(t);return(0,S.saveAs)(new Blob([r.data]),s),!0}catch(r){throw console.error("Error generating report:",r),r}}static async exportToExcel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"export.xlsx";try{const r=C.Wp.json_to_sheet(e),s=C.Wp.book_new();C.Wp.book_append_sheet(s,r,"Data");const n=C.M9(s,{bookType:"xlsx",type:"array"});return(0,S.saveAs)(new Blob([n]),t),!0}catch(r){throw console.error("Error exporting to Excel:",r),r}}static async exportToCsv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"export.csv";try{const r=(e,t)=>null===t?"":t,s=Object.keys(e[0]),n=[s.join(","),...e.map((e=>s.map((t=>JSON.stringify(e[t],r))).join(",")))].join("\r\n");return(0,S.saveAs)(new Blob([n],{type:"text/csv;charset=utf-8;"}),t),!0}catch(r){throw console.error("Error exporting to CSV:",r),r}}static async scheduleReport(e,t){try{return(await k.A.post("/projects/".concat(e,"/schedule-report"),t)).data}catch(r){throw console.error("Error scheduling report:",r),r}}static async getScheduledReports(e){try{return(await k.A.get("/projects/".concat(e,"/scheduled-reports"))).data}catch(t){throw console.error("Error getting scheduled reports:",t),t}}static async deleteScheduledReport(e,t){try{return(await k.A.delete("/projects/".concat(e,"/scheduled-reports/").concat(t))).data}catch(r){throw console.error("Error deleting scheduled report:",r),r}}static async getCustomReport(e,t){try{return(await w.A.post("/api/projects/".concat(e,"/custom-report"),t)).data}catch(r){throw console.error("Error generating custom report:",r),r}}};var D=r(70579);const E=()=>{const[e,t]=(0,n.useState)(""),[r,w]=(0,n.useState)("pdf"),[S,C]=(0,n.useState)({startDate:"",endDate:""}),[k,E]=(0,n.useState)(""),[W,T]=(0,n.useState)(!1),[B,I]=(0,n.useState)({open:!1,message:"",severity:"success"}),[_,F]=(0,n.useState)([{id:1,name:"Weekly Progress Report",interval:"weekly",format:"pdf",nextRun:"2024-01-25"},{id:2,name:"Monthly Analytics",interval:"monthly",format:"excel",nextRun:"2024-02-01"}]);return(0,D.jsxs)(a.A,{sx:{p:3},children:[(0,D.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:"Reports"}),(0,D.jsxs)(o.Ay,{container:!0,spacing:3,children:[(0,D.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,D.jsxs)(c.A,{sx:{p:2},children:[(0,D.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"Generate Report"}),(0,D.jsxs)(o.Ay,{container:!0,spacing:2,children:[(0,D.jsx)(o.Ay,{item:!0,xs:12,children:(0,D.jsxs)(i.A,{fullWidth:!0,children:[(0,D.jsx)(d.A,{children:"Report Type"}),(0,D.jsxs)(h.A,{value:e,onChange:e=>t(e.target.value),label:"Report Type",children:[(0,D.jsx)(p.A,{value:"project-progress",children:"Project Progress"}),(0,D.jsx)(p.A,{value:"team-performance",children:"Team Performance"}),(0,D.jsx)(p.A,{value:"resource-allocation",children:"Resource Allocation"}),(0,D.jsx)(p.A,{value:"budget-analysis",children:"Budget Analysis"})]})]})}),(0,D.jsx)(o.Ay,{item:!0,xs:12,children:(0,D.jsxs)(i.A,{fullWidth:!0,children:[(0,D.jsx)(d.A,{children:"Format"}),(0,D.jsxs)(h.A,{value:r,onChange:e=>w(e.target.value),label:"Format",children:[(0,D.jsx)(p.A,{value:"pdf",children:"PDF"}),(0,D.jsx)(p.A,{value:"excel",children:"Excel"}),(0,D.jsx)(p.A,{value:"csv",children:"CSV"})]})]})}),(0,D.jsx)(o.Ay,{item:!0,xs:6,children:(0,D.jsx)(x.A,{fullWidth:!0,label:"Start Date",type:"date",value:S.startDate,onChange:e=>C((t=>(0,s.A)((0,s.A)({},t),{},{startDate:e.target.value}))),InputLabelProps:{shrink:!0}})}),(0,D.jsx)(o.Ay,{item:!0,xs:6,children:(0,D.jsx)(x.A,{fullWidth:!0,label:"End Date",type:"date",value:S.endDate,onChange:e=>C((t=>(0,s.A)((0,s.A)({},t),{},{endDate:e.target.value}))),InputLabelProps:{shrink:!0}})}),(0,D.jsx)(o.Ay,{item:!0,xs:12,children:(0,D.jsx)(u.A,{fullWidth:!0,variant:"contained",startIcon:(0,D.jsx)(f.A,{}),onClick:async()=>{if(e&&r){T(!0);try{await P.exportProjectReport(e,r),I({open:!0,message:"Report generated successfully",severity:"success"})}catch(t){I({open:!0,message:"Error generating report",severity:"error"})}finally{T(!1)}}else I({open:!0,message:"Please select report type and format",severity:"error"})},disabled:W,children:"Generate Report"})})]})]})}),(0,D.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,D.jsxs)(c.A,{sx:{p:2},children:[(0,D.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"Schedule Report"}),(0,D.jsxs)(o.Ay,{container:!0,spacing:2,children:[(0,D.jsx)(o.Ay,{item:!0,xs:12,children:(0,D.jsxs)(i.A,{fullWidth:!0,children:[(0,D.jsx)(d.A,{children:"Report Type"}),(0,D.jsxs)(h.A,{value:e,onChange:e=>t(e.target.value),label:"Report Type",children:[(0,D.jsx)(p.A,{value:"project-progress",children:"Project Progress"}),(0,D.jsx)(p.A,{value:"team-performance",children:"Team Performance"}),(0,D.jsx)(p.A,{value:"resource-allocation",children:"Resource Allocation"}),(0,D.jsx)(p.A,{value:"budget-analysis",children:"Budget Analysis"})]})]})}),(0,D.jsx)(o.Ay,{item:!0,xs:12,children:(0,D.jsxs)(i.A,{fullWidth:!0,children:[(0,D.jsx)(d.A,{children:"Schedule Interval"}),(0,D.jsxs)(h.A,{value:k,onChange:e=>E(e.target.value),label:"Schedule Interval",children:[(0,D.jsx)(p.A,{value:"daily",children:"Daily"}),(0,D.jsx)(p.A,{value:"weekly",children:"Weekly"}),(0,D.jsx)(p.A,{value:"monthly",children:"Monthly"})]})]})}),(0,D.jsx)(o.Ay,{item:!0,xs:12,children:(0,D.jsx)(u.A,{fullWidth:!0,variant:"contained",startIcon:(0,D.jsx)(R.A,{}),onClick:async()=>{if(e&&k){T(!0);try{await P.scheduleReport(e,{interval:k,format:r}),I({open:!0,message:"Report scheduled successfully",severity:"success"})}catch(t){I({open:!0,message:"Error scheduling report",severity:"error"})}finally{T(!1)}}else I({open:!0,message:"Please select report type and schedule interval",severity:"error"})},disabled:W,children:"Schedule Report"})})]})]})}),(0,D.jsx)(o.Ay,{item:!0,xs:12,children:(0,D.jsxs)(c.A,{sx:{p:2},children:[(0,D.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"Scheduled Reports"}),(0,D.jsx)(o.Ay,{container:!0,spacing:2,children:_.map((e=>(0,D.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,D.jsx)(A.A,{children:(0,D.jsxs)(j.A,{children:[(0,D.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,D.jsx)(l.A,{variant:"h6",component:"div",children:e.name}),(0,D.jsx)(y.A,{title:"Delete Schedule",children:(0,D.jsx)(v.A,{size:"small",onClick:()=>{return t=e.id,F((e=>e.filter((e=>e.id!==t)))),void I({open:!0,message:"Scheduled report deleted",severity:"success"});var t},children:(0,D.jsx)(b.A,{})})})]}),(0,D.jsxs)(l.A,{color:"text.secondary",children:["Interval: ",e.interval]}),(0,D.jsxs)(l.A,{color:"text.secondary",children:["Format: ",e.format]}),(0,D.jsxs)(l.A,{color:"text.secondary",children:["Next Run: ",e.nextRun]})]})})},e.id)))})]})})]}),(0,D.jsx)(g.A,{open:B.open,autoHideDuration:6e3,onClose:()=>I((e=>(0,s.A)((0,s.A)({},e),{},{open:!1}))),children:(0,D.jsx)(m.A,{onClose:()=>I((e=>(0,s.A)((0,s.A)({},e),{},{open:!1}))),severity:B.severity,sx:{width:"100%"},children:B.message})})]})}}}]);
//# sourceMappingURL=536.d01df365.chunk.js.map